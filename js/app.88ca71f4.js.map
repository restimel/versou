{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/Leaflet.vue?9250","webpack:///./src/components/Menu.vue?4b98","webpack:///./src/components/Notification.vue?a951","webpack:///./src/views/Header.vue?8e38","webpack:///./src/App.vue?33f1","webpack:///./src/App.vue","webpack:///./src/views/Header.vue","webpack:///./src/Store.ts","webpack:///./src/components/Menu.vue","webpack:///./src/components/Menu.vue?3225","webpack:///./src/components/Menu.vue?05e3","webpack:///./src/components/Notification.vue","webpack:///./src/components/Notification.vue?7faa","webpack:///./src/components/Notification.vue?a191","webpack:///./src/tools/Morse.ts","webpack:///./src/Notification.ts","webpack:///./src/Geoloc.ts","webpack:///./src/views/Header.vue?2cfa","webpack:///./src/views/Header.vue?47fb","webpack:///./src/App.vue?64a4","webpack:///./src/views/Home.vue","webpack:///./src/components/Leaflet.vue","webpack:///./src/tools/mapInfo.ts","webpack:///./src/components/Leaflet.vue?5dca","webpack:///./src/components/Leaflet.vue?5127","webpack:///./src/views/Home.vue?d5e7","webpack:///./src/views/Home.vue?c29e","webpack:///./src/router/index.ts","webpack:///./src/main.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","class","buttonSettings","buttonActions","buttonMenu","items","list","menuSelection","store","openMenu","notificationSettings","hardware","vibrate","notification","title","active","geolocSettings","refreshTime","highPrecision","isRecording","currentPath","path","startTime","pauseDuration","mapSettings","layer","iconPosition","item","id","onClick","label","this","disabled","callback","$emit","props","Array","required","render","__scopeId","time","Date","now","codeMorse","Map","chars","toUpperCase","split","code","map","join","replace","vibratePattern","timeUnit","blk","point","line","endLetter","timeMap","from","timer","morse","vibration","navigator","async","sendHardNotification","vibrationMessage","Notification","permission","requestPermission","body","options","important","delay","pauseTs","nbLastError","nbErrorMax","permissionDenied","unknownError","addLog","timestamp","currentTime","log","relativeTime","record","continueLog","duration","warn","getPosition","handlePosition","position","coords","check","NaN","lat","latitude","lng","longitude","accuracy","alt","altitude","altAccuracy","altitudeAccuracy","heading","speed","handleError","PERMISSION_DENIED","pause","POSITION_UNAVAILABLE","TIMEOUT","enableHighAccuracy","geolocation","getCurrentPosition","startLog","textStart","textSettings","settingsList","menuList","components","Menu","Header","ref","zoom","center","onmove","layerName","url","attribution","maxZoom","lat-lng","currentPosition","icon-url","currentPositionIcon","textPosition","lat-lngs","color","recenter","textCenterTitle","textCenter","set","icons","LMap","LIcon","LTileLayer","LMarker","LControlLayers","LTooltip","LPopup","LPolyline","LPolygon","LRectangle","followCenter","icon","recordedPath","lastIdx","el","$refs","leaflet","parent","parentElement","box","getBoundingClientRect","height","style","a","setSize","wlistener","addEventListener","removeEventListener","watch","Leaflet","routes","component","redirect","router","history","App","use","mount"],"mappings":"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","file":"js/app.88ca71f4.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"6c44055d\",\"chunk-2d0c9189\":\"4312ce11\",\"chunk-2d0cf391\":\"1c4b4848\",\"chunk-2d0da8f3\":\"f59eb4b6\",\"chunk-2d22523a\":\"c0744dc4\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Leaflet.vue?vue&type=style&index=0&id=3e0105d2&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Menu.vue?vue&type=style&index=0&id=38068c38&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Notification.vue?vue&type=style&index=0&id=6ecd2727&scoped=true&lang=css\"","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Header.vue?vue&type=style&index=0&id=51f2c682&scoped=true&lang=css\"","export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&id=341f5a22&lang=css\"","<template>\n    <Header class=\"header\" />\n    <router-view/>\n</template>\n<script>\nimport Header from '@/views/Header';\n\nexport default {\n    components: {\n        Header,\n    },\n};\n</script>\n<style>\n:root {\n    --color: rgba(0, 0, 0, 1);\n    --primary-color: rgba(200, 130, 0, 1);\n\n    --button-color: var(--primary-color);\n    --button-color-hover: rgba(220, 190, 0, 1);\n    --button-color-active: rgba(255, 220, 50, 1);\n    --link-color: var(--color);\n    --link-color-hover: var(--primary-color);\n    --link-color-active: rgba(255, 220, 50, 1);\n    --link-color-disabled: rgba(100, 100, 100, 1);\n\n    --button-bg-color: rgba(40, 0, 20, 1);\n    --button-bg-color-active: rgba(70, 60, 70, 1);\n    --menu-bg-color: rgba(240, 240, 255, 1);\n    --menu-bg-color-disabled: rgba(200, 200, 200, 1);\n\n    --header-height: 50px;\n}\n\nhtml {\n    height: 100%;\n}\n\nbody {\n    margin: 0;\n    height: 100%;\n}\n\n#app {\n    font-family: Avenir, Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    text-align: center;\n    color: var(--color);\n    height: 100%;\n}\n\n#app {\n    display: grid;\n    grid-template-columns: minmax(0, 1fr);\n    grid-template-rows: 50px minmax(0, 1fr);\n    grid-template-areas: \"header\" \"main\";\n}\n\n.header {\n    grid-area: header;\n}\n\nbutton {\n    cursor: pointer;\n}\n</style>\n","<template>\n    <div class=\"header\">\n        <div class=\"settings\">\n            <button\n                @click=\"buttonSettings\"\n            >\n                !\n            </button>\n        </div>\n        <div class=\"actions\">\n            <button\n                @click=\"buttonActions\"\n            >\n                >\n            </button>\n        </div>\n        <div class=\"menu\">\n            <button\n                @click=\"buttonMenu\"\n            >\n                ?\n            </button>\n        </div>\n\n        <Menu\n            :items=\"list\"\n            @click=\"menuSelection\"\n        />\n        <Notification />\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport store from '@/Store';\nimport { Options, Vue } from 'vue-class-component';\nimport Menu, { Item } from '@/components/Menu.vue'; // @ is an alias to /src\nimport Notification from '@/components/Notification.vue';\nimport notification from '@/Notification';\nimport {\n    startLog,\n} from '@/Geoloc';\n\n/* Texts */\nconst textStart = 'Démarrer la randonée';\nconst textSettings = 'Configuration';\n\n@Options({\n    components: {\n        Menu,\n        Notification,\n    },\n})\nexport default class Home extends Vue {\n    get settingsList() {\n        const list: Item[] = [];\n\n        list.push({\n            label: textStart,\n            id: 'start',\n            disabled: this.isRecording,\n        });\n\n        return list;\n    }\n\n    get menuList() {\n        const list: Item[] = [];\n\n        list.push({\n            label: textSettings,\n            id: 'settings',\n        });\n\n        return list;\n    }\n\n    get isRecording() {\n        return store.geolocSettings.isRecording;\n    }\n\n    get list() {\n        const openMenu = store.openMenu;\n        const settingsList = this.settingsList;\n        const menuList = this.menuList;\n\n        if (openMenu === 'settings') {\n            return settingsList;\n        } else if (openMenu === 'menu') {\n            return menuList;\n        }\n        return [] as Item[];\n    }\n\n    buttonSettings() {\n        store.openMenu = 'settings';\n    }\n\n    buttonActions() {\n        // console.log('TODO button actions');\n        // notification('TODO button actions', {\n        // });\n        startLog();\n    }\n\n    buttonMenu() {\n        store.openMenu = 'menu';\n    }\n\n    menuSelection(id: string) {\n        switch(id) {\n            case 'start':\n                startLog();\n                break;\n            case 'settings':\n                notification('Not implemented yet', {type: 'error'});\n                break;\n        }\n    }\n}\n</script>\n\n<style scoped>\n.header {\n    display: grid;\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-template-areas: \"settings actions menu\";\n    height: var(--header-height);\n}\n\n.settings {\n    grid-area: settings;\n}\n\n.actions {\n    grid-area: actions;\n}\n\n.menu {\n    grid-area: menu;\n}\n\nbutton {\n    width: 100%;\n    max-width: 100px;\n    height: 100%;\n    font-size: calc(var(--header-height - 10px));\n\n    color: var(--button-color);\n    background-color: var(--button-bg-color);\n    border: 4px outset var(--button-color);\n}\nbutton:hover {\n    color: var(--button-color-hover);\n}\nbutton.active,\nbutton:active {\n    color: var(--button-color-active);\n    background-color: var(--button-bg-color-active);\n    border-style: inset;\n}\n</style>\n","/**\n * file purpose:\n * List common values that can be used at different point in the projects.\n * Changes are reactive.\n */\n\nimport { reactive } from 'vue';\nimport {\n    MenuType,\n    NotificationSettings,\n    NotificationMessage,\n    GeolocLog,\n    GeolocSettings,\n    MapSettings,\n} from '@/Types';\n\ninterface Store {\n    openMenu: MenuType;\n    notificationSettings: NotificationSettings;\n    notification: NotificationMessage;\n    geolocSettings: GeolocSettings;\n    mapSettings: MapSettings;\n    currentPath: GeolocLog;\n}\n\nconst store = reactive<Store>({\n    openMenu: '',\n    notificationSettings: {\n        hardware: true,\n        vibrate: true,\n    },\n    notification: {\n        title: '',\n        message: '',\n        type: 'info',\n        active: false,\n    },\n    geolocSettings: {\n        refreshTime: 30000,\n        highPrecision: true,\n        isRecording: false,\n    },\n    currentPath: {\n        name: '',\n        path: [],\n        startTime: 0,\n        pauseDuration: 0,\n    },\n    mapSettings: {\n        layer: 'openStreetMap',\n        iconPosition: 'trekker',\n    },\n});\n\nexport default store;\n","<template>\n    <div\n        class=\"menu\"\n        :class=\"{\n            hidden: isEmpty,\n        }\"\n    >\n        <div v-for=\"item of items\"\n            :key=\"item.id\"\n            class=\"menu__item\"\n            :class=\"{\n                disabled: !!item.disabled,\n            }\"\n            @click=\"onClick(item)\"\n        >\n            {{item.label}}\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\n\nexport interface Item {\n    label: string;\n    id: string;\n    disabled?: boolean;\n    callback?: () => void;\n}\n\n@Options({\n    props: {\n        items: {\n            type: Array,\n            required: true,\n        },\n    },\n})\nexport default class Menu extends Vue {\n    public items: Item[] = [];\n\n    get isEmpty() {\n        return this.items.length === 0;\n    }\n\n    private onClick(item: Item) {\n        if (item.disabled) {\n            return;\n        }\n        if (typeof item.callback === 'function') {\n            item.callback();\n        }\n        this.$emit('click', item.id);\n    }\n}\n</script>\n\n<style scoped>\n.menu {\n    position: fixed;\n    top: var(--header-height);\n    left: 50%;\n    transform: translate(-50%, 0);\n\n    background-color: var(--menu-bg-color);\n    padding: 1em;\n\n    box-shadow: 5px 2px 10px 0 black;\n}\n.menu__item {\n    cursor: pointer;\n    color: var(--link-color);\n}\n.menu__item:hover {\n    color: var(--link-color-hover);\n}\n.menu__item:active {\n    color: var(--link-color-active);\n}\n.menu__item.disabled,\n.menu__item.disabled:hover,\n.menu__item.disabled:active {\n    cursor: not-allowed;\n    color: var(--link-color-disabled);\n    background-color: var(--menu-bg-color-disabled);\n}\n\n.hidden {\n    display: none;\n}\n</style>\n","\nimport { Options, Vue } from 'vue-class-component';\n\nexport interface Item {\n    label: string;\n    id: string;\n    disabled?: boolean;\n    callback?: () => void;\n}\n\n@Options({\n    props: {\n        items: {\n            type: Array,\n            required: true,\n        },\n    },\n})\nexport default class Menu extends Vue {\n    public items: Item[] = [];\n\n    get isEmpty() {\n        return this.items.length === 0;\n    }\n\n    private onClick(item: Item) {\n        if (item.disabled) {\n            return;\n        }\n        if (typeof item.callback === 'function') {\n            item.callback();\n        }\n        this.$emit('click', item.id);\n    }\n}\n","import { render } from \"./Menu.vue?vue&type=template&id=38068c38&scoped=true\"\nimport script from \"./Menu.vue?vue&type=script&lang=ts\"\nexport * from \"./Menu.vue?vue&type=script&lang=ts\"\n\nimport \"./Menu.vue?vue&type=style&index=0&id=38068c38&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-38068c38\"\n\nexport default script","<template>\n    <div\n        class=\"notification\"\n        :class=\"{\n            hidden: !isActive,\n            info: type === 'info',\n            success: type === 'success',\n            warning: type === 'warning',\n            error: type === 'error',\n        }\"\n\n        @click=\"onClick\"\n    >\n        <header v-if=\"title\">\n            {{title}}\n        </header>\n        {{message}}\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport store from '@/Store';\n\n@Options({\n    props: {},\n})\nexport default class Menu extends Vue {\n    private time = Date.now();\n\n    get isActive() {\n        return store.notification.active;\n    }\n\n    get title() {\n        return store.notification.title;\n    }\n\n    get message() {\n        return store.notification.message;\n    }\n\n    get type() {\n        return store.notification.type;\n    }\n\n    private onClick() {\n        store.notification.active = false;\n    }\n}\n</script>\n\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\n<style scoped>\n.notification {\n    position: fixed;\n    bottom: 1em;\n    right: 1em;\n\n    padding: 1.5em;\n\n    border: 5px double white;\n    box-shadow: -2px -5px 10px 0 black;\n\n    z-index: 1000;\n\n    cursor: pointer;\n}\n.notification.info {\n    background-color: rgb(100, 150, 200);\n}\n.notification.success {\n    background-color: rgb(100, 200, 120);\n}\n.notification.warning {\n    background-color: rgb(210, 180, 100);\n}\n.notification.error {\n    background-color: rgb(200, 100, 100);\n}\n.notification header {\n    font-weight: bold;\n}\n.hidden {\n    display: none;\n}\n</style>\n","\nimport { Options, Vue } from 'vue-class-component';\nimport store from '@/Store';\n\n@Options({\n    props: {},\n})\nexport default class Menu extends Vue {\n    private time = Date.now();\n\n    get isActive() {\n        return store.notification.active;\n    }\n\n    get title() {\n        return store.notification.title;\n    }\n\n    get message() {\n        return store.notification.message;\n    }\n\n    get type() {\n        return store.notification.type;\n    }\n\n    private onClick() {\n        store.notification.active = false;\n    }\n}\n","import { render } from \"./Notification.vue?vue&type=template&id=6ecd2727&scoped=true\"\nimport script from \"./Notification.vue?vue&type=script&lang=ts\"\nexport * from \"./Notification.vue?vue&type=script&lang=ts\"\n\nimport \"./Notification.vue?vue&type=style&index=0&id=6ecd2727&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-6ecd2727\"\n\nexport default script","\nconst codeMorse = new Map([\n    [' ', '/'],\n    ['-', '/'],\n    ['_', '/'],\n    ['**SOS**', '...---...'],\n    ['**OVER**', '-.-'],\n    ['**ROGER**', '.-.'],\n    ['**STARTMESSAGE**', '.-.-'],\n    ['**ENDMESSAGE**', '.-.-.'],\n    ['**WAIT**', '.-...'],\n    ['**BREAK**', '-...-'],\n    ['**ERROR**', '........'],\n    ['**SLOW**', '....-..'],\n    ['**REPEAT**', '..--..'],\n    ['**CORRECT**', '-.-.'],\n    ['**NEGATIVE**', '-.'],\n    ['A', '.-'],\n    ['B', '-...'],\n    ['C', '-.-.'],\n    ['D', '-..'],\n    ['E', '.'],\n    ['F', '..-.'],\n    ['G', '--.'],\n    ['H', '....'],\n    ['I', '..'],\n    ['J', '.---'],\n    ['K', '-.-'],\n    ['L', '.-..'],\n    ['M', '--'],\n    ['N', '-.'],\n    ['O', '---'],\n    ['P', '.--.'],\n    ['Q', '--.-'],\n    ['R', '.-.'],\n    ['S', '...'],\n    ['T', '-'],\n    ['U', '..-'],\n    ['V', '...-'],\n    ['W', '.--'],\n    ['X', '-..-'],\n    ['Y', '-.--'],\n    ['Z', '--..'],\n    ['0', '-----'],\n    ['1', '.----'],\n    ['2', '..---'],\n    ['3', '...--'],\n    ['4', '....-'],\n    ['5', '.....'],\n    ['6', '-....'],\n    ['7', '--...'],\n    ['8', '---..'],\n    ['9', '----.'],\n]);\n\n/**\n * Convert string message in morse code.\n * morse code characters are:\n *  . (ti)\n *  - (taa)\n *    (space for letter separation)\n *  / (word separation)\n *\n *  In message, special characters can be added enclosed with **\n *  For example, to add the Wait signal it could be written: '**WAIT**'\n *  Special code are:\n *      SOS\n *      OVER\n *      ROGER\n *      STARTMESSAGE\n *      ENDMESSAGE\n *      WAIT\n *      BREAK\n *      ERROR\n *      SLOW\n *      REPEAT\n *      CORRECT\n *      NEGATIVE\n *\n */\nexport default function(message: string) {\n    const chars = message.toUpperCase().split(/(\\*{2}\\w+\\*{2})/);\n    const code = chars.map((c) => codeMorse.get(c) || '/').join(' ')\n        .replace(/^[ /]+|[ /]+$/g, '')\n        .replace(/ +/g, ' ')\n        .replace(/( *\\/+ *)+/g, '/');\n\n    return code;\n}\n\nexport function vibratePattern(code: string, timeUnit = 100): VibratePattern {\n    const blk = timeUnit / 4;\n    const point = timeUnit / 4;\n    const line = 3 * timeUnit / 4;\n    const endLetter = 3 * timeUnit / 4;\n    const timeMap = new Map([\n        ['.', point],\n        ['-', line],\n        [' ', blk],\n        ['/', endLetter],\n    ]);\n\n    const vibrate: VibratePattern = Array.from(code).map((c) => timeMap.get(c) || 0);\n\n    return vibrate;\n}\n","/**\n * file purpose:\n * Send notification to user.\n */\n\nimport store from '@/Store';\nimport codeMorse, {vibratePattern} from '@/tools/Morse';\nimport {\n    NotificationType,\n} from '@/Types';\n\ninterface NotifOptions {\n    title?: string;\n    important?: boolean;\n    type?: NotificationType;\n    vibrationMessage?: string;\n    delay?: number;\n}\n\nconst notificationSettings = store.notificationSettings;\nlet timer = 0;\n\nexport function vibrate(code = '**WAIT**'): boolean {\n    if (!notificationSettings.vibrate || !code) {\n        return false;\n    }\n    const morse = codeMorse(code);\n    const vibration = vibratePattern(morse);\n\n    return navigator.vibrate(vibration);\n}\n\nasync function sendHardNotification(message: string, vibrationMessage?: string) {\n    if (!notificationSettings.hardware) {\n        return;\n    }\n\n    if (Notification.permission !== 'granted') {\n        const permission = await Notification.requestPermission();\n        if (permission === 'denied') {\n            notificationSettings.hardware = false;\n            return;\n        }\n    }\n\n    vibrate(vibrationMessage);\n\n    return new Notification('Versou', {\n        body: message,\n    });\n}\n\nexport default function(message: string, options: NotifOptions = {}) {\n    const {\n        important = false,\n        vibrationMessage,\n        type = 'info',\n        delay = 5000,\n        title = '',\n    } = options;\n\n    if (important) {\n        sendHardNotification(message, vibrationMessage);\n    } else if (vibrationMessage) {\n        vibrate(vibrationMessage);\n    }\n\n    clearTimeout(timer);\n\n    store.notification = {\n        title: title,\n        message: message,\n        type: type,\n        active: true,\n    };\n\n    timer = setTimeout(() => {\n        store.notification.active = false;\n    }, delay);\n}\n","/**\n * file purpose:\n * Get and register geoloc position.\n */\n\nimport store from '@/Store';\nimport notification from '@/Notification';\nimport {\n    GeolocPoint,\n    GeolocRecord,\n} from './Types';\n\nlet pauseTs = 0;\nlet timer = 0;\nlet nbLastError = 0;\nconst nbErrorMax = 3;\n\nconst c = console;\n\n/* Texts */\nconst permissionDenied = 'Vous devez autoriser la géolocalisation pour enregistrer votre position.';\nconst unknownError = 'Une erreur est survenue pour récupérer les coordonées.';\n\nfunction addLog(point: GeolocPoint, timestamp?: number) {\n    const currentPath = store.currentPath;\n    const currentTime = Date.now();\n\n    c.log('timestamp', timestamp, 'Date.now()', currentTime);\n    const relativeTime = currentTime - currentPath.startTime - currentPath.pauseDuration;\n    const record: GeolocRecord = {\n        ...point,\n        relativeTime,\n    };\n\n    currentPath.path.push(record);\n}\n\nfunction continueLog(delay?: number) {\n    const geolocSettings = store.geolocSettings;\n    const duration = typeof delay === 'number' ? delay : geolocSettings.refreshTime;\n    c.warn(delay, duration);\n    timer = setTimeout(getPosition, duration);\n}\n\nfunction handlePosition(position: GeolocationPosition) {\n    const coords = position.coords;\n\n    nbLastError = 0;\n\n    const check = (value: number | null | undefined) => {\n        if (typeof value === 'number') {\n            return value;\n        }\n        return NaN;\n    };\n\n    addLog({\n        lat: coords.latitude,\n        lng: coords.longitude,\n        accuracy: coords.accuracy,\n        alt: check(coords.altitude),\n        altAccuracy: check(coords.altitudeAccuracy),\n        heading: check(coords.heading),\n        speed: check(coords.speed),\n    }, position.timestamp);\n\n    continueLog();\n}\n\nfunction handleError(error: GeolocationPositionError) {\n    let title: string;\n    let message: string;\n\n    switch(error.code) {\n        case error.PERMISSION_DENIED:\n            pause();\n            title = permissionDenied;\n            message = error.message;\n            break;\n        case error.POSITION_UNAVAILABLE:\n        case error.TIMEOUT:\n            nbLastError++;\n            if (nbLastError >= nbErrorMax) {\n                pause();\n                title = unknownError;\n                message = error.message;\n            } else {\n                continueLog(10);\n                return;\n            }\n            break;\n        default:\n            pause();\n            title = unknownError;\n            message = error.message;\n    }\n\n    notification(message, {\n        title: title,\n        type: 'error',\n        important: true,\n        vibrationMessage: '**ERROR**',\n        delay: 15000,\n    });\n}\n\nfunction getPosition() {\n    const geolocSettings = store.geolocSettings;\n    clearTimeout(timer);\n\n    const options: PositionOptions = {\n        enableHighAccuracy: geolocSettings.highPrecision,\n    };\n\n    navigator.geolocation.getCurrentPosition(handlePosition, handleError, options);\n}\n\nexport function pause() {\n    clearTimeout(timer);\n    if (pauseTs !== 0) {\n        return;\n    }\n    pauseTs = Date.now();\n}\n\nexport function play() {\n    const currentPath = store.currentPath;\n\n    if (pauseTs === 0) {\n        return;\n    }\n\n    clearTimeout(timer);\n    const duration = Date.now() - pauseTs;\n    currentPath.pauseDuration += duration;\n    pauseTs = 0;\n    nbLastError = 0;\n\n    getPosition();\n}\n\nexport function stop() {\n    clearTimeout(timer);\n\n    if (pauseTs === 0) {\n        pauseTs = Date.now();\n    }\n    store.geolocSettings.isRecording = false;\n    return true;\n}\n\nexport function togglePlay() {\n    if (pauseTs === 0) {\n        pause();\n    } else {\n        play();\n    }\n}\n\nexport function startLog() {\n    store.currentPath = {\n        name: '',\n        path: [],\n        startTime: Date.now(),\n        pauseDuration: 0,\n    };\n\n    clearTimeout(timer);\n    store.geolocSettings.isRecording = true;\n    getPosition();\n}\n","\nimport store from '@/Store';\nimport { Options, Vue } from 'vue-class-component';\nimport Menu, { Item } from '@/components/Menu.vue'; // @ is an alias to /src\nimport Notification from '@/components/Notification.vue';\nimport notification from '@/Notification';\nimport {\n    startLog,\n} from '@/Geoloc';\n\n/* Texts */\nconst textStart = 'Démarrer la randonée';\nconst textSettings = 'Configuration';\n\n@Options({\n    components: {\n        Menu,\n        Notification,\n    },\n})\nexport default class Home extends Vue {\n    get settingsList() {\n        const list: Item[] = [];\n\n        list.push({\n            label: textStart,\n            id: 'start',\n            disabled: this.isRecording,\n        });\n\n        return list;\n    }\n\n    get menuList() {\n        const list: Item[] = [];\n\n        list.push({\n            label: textSettings,\n            id: 'settings',\n        });\n\n        return list;\n    }\n\n    get isRecording() {\n        return store.geolocSettings.isRecording;\n    }\n\n    get list() {\n        const openMenu = store.openMenu;\n        const settingsList = this.settingsList;\n        const menuList = this.menuList;\n\n        if (openMenu === 'settings') {\n            return settingsList;\n        } else if (openMenu === 'menu') {\n            return menuList;\n        }\n        return [] as Item[];\n    }\n\n    buttonSettings() {\n        store.openMenu = 'settings';\n    }\n\n    buttonActions() {\n        // console.log('TODO button actions');\n        // notification('TODO button actions', {\n        // });\n        startLog();\n    }\n\n    buttonMenu() {\n        store.openMenu = 'menu';\n    }\n\n    menuSelection(id: string) {\n        switch(id) {\n            case 'start':\n                startLog();\n                break;\n            case 'settings':\n                notification('Not implemented yet', {type: 'error'});\n                break;\n        }\n    }\n}\n","import { render } from \"./Header.vue?vue&type=template&id=51f2c682&scoped=true\"\nimport script from \"./Header.vue?vue&type=script&lang=ts\"\nexport * from \"./Header.vue?vue&type=script&lang=ts\"\n\nimport \"./Header.vue?vue&type=style&index=0&id=51f2c682&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-51f2c682\"\n\nexport default script","import { render } from \"./App.vue?vue&type=template&id=341f5a22\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=341f5a22&lang=css\"\nscript.render = render\n\nexport default script","<template>\n    <div class=\"home\">\n        <Leaflet />\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport Leaflet from '@/components/Leaflet.vue';\n\n@Options({\n    components: {\n        Leaflet,\n    },\n})\nexport default class Home extends Vue {\n}\n</script>\n","<template>\n    <div class=\"leaflet-map-container\">\n        <div class=\"leaflet-map\" ref=\"leaflet\">\n            <LMap\n                class=\"leaflet-map\"\n\n                v-model:zoom=\"zoom\"\n                v-model:center=\"center\"\n                @dragend=\"onmove\"\n            >\n                <LTileLayer v-if=\"layerName === 'satellite'\"\n                    url=\"https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}'\"\n                    attribution=\"Tiles &copy; Esri &mdash; Source: Esri, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community\"\n                ></LTileLayer>\n                <LTileLayer v-else\n                    :url=\"layer.url\"\n                    :maxZoom=\"layer.maxZoom\"\n                    :attribution=\"layer.attribution\"\n                ></LTileLayer>\n\n                <LMarker v-if=\"currentPosition\"\n                    :lat-lng=\"currentPosition\"\n                >\n                    <LIcon\n                        :icon-url=\"currentPositionIcon\"\n                    />\n                    <LTooltip>\n                        {{textPosition}}\n                    </LTooltip>\n                </LMarker>\n\n                <!-- <LMarker :lat-lng=\"center\" draggable\n                >\n                    <LPopup>\n                    lol\n                    </LPopup>\n                </LMarker> -->\n\n                <LPolyline\n                    :lat-lngs=\"currentPath\"\n                    color=\"green\"\n                ></LPolyline>\n            </LMap>\n        </div>\n        <div v-if=\"canCenter\"\n            class=\"actions\"\n        >\n            <button\n                @click=\"recenter\"\n                :title=\"textCenterTitle\"\n            >\n                {{textCenter}}\n            </button>\n        </div>\n    </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport store from '@/Store';\nimport { icons, layers } from '@/tools/mapInfo';\nimport * as VueLeaflet from '@vue-leaflet/vue-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { LatLngTuple } from 'leaflet';\nimport {\n    LayerId, LayerProps,\n} from '@/Types';\n\nconst textPosition = 'Votre position actuelle';\nconst textCenterTitle = 'Recentrer et suivre votre position';\nconst textCenter = 'Recentrer';\n\nconst {\n    LMap,\n    LIcon,\n    LTileLayer,\n    LMarker,\n    LControlLayers,\n    LTooltip,\n    LPopup,\n    LPolyline,\n    LPolygon,\n    LRectangle,\n} = VueLeaflet;\n\n@Options({\n    // props: {\n    //     center: Array,\n    //     zoom: Number,\n    // },\n    // provide() {\n    //     return {\n    //         map: computed(() => this.map),\n    //     };\n    // },\n    components: {\n        LMap,\n        LIcon,\n        LTileLayer,\n        LMarker,\n        LControlLayers,\n        LTooltip,\n        LPopup,\n        LPolyline,\n        LPolygon,\n        LRectangle,\n    },\n    watch: {\n        currentPosition() {\n            if (this.followCenter) {\n                this.center = this.currentPosition;\n            }\n        },\n    },\n})\nexport default class Leaflet extends Vue {\n    private center: LatLngTuple = [46.5, 2.4];\n    private zoom = 6;\n    private followCenter = true;\n\n    private wlistener: undefined | (() => void);\n\n    get textPosition() {\n        return textPosition;\n    }\n\n    get textCenter() {\n        return textCenter;\n    }\n\n    get texCenterTitle() {\n        return textCenterTitle;\n    }\n\n    get currentPositionIcon() {\n        const icon = store.mapSettings.iconPosition;\n        const data = icons.get(icon);\n        if (!data) {\n            return undefined;\n        }\n        return `data:image/png;base64,${data}`;\n    }\n\n    get layerName(): LayerId {\n        return store.mapSettings.layer;\n    }\n\n    get layer(): LayerProps {\n        const id = this.layerName;\n        let layer = layers.get(id);\n\n        if (!layer) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            layer = layers.get('openStreetMap')!;\n        }\n\n        return layer;\n    }\n\n    get recordedPath() {\n        return store.currentPath.path;\n    }\n\n    get currentPath() {\n        const path = this.recordedPath;\n        return path.map((point) => {\n            return [point.lat, point.lng] as LatLngTuple;\n        });\n        // return [\n        //     [47.334852, -1.509485],\n        //     [47.342596, -1.328731],\n        //     [47.241487, -1.190568],\n        //     [47.234787, -1.358337],\n        //     this.center,\n        // ];\n    }\n\n    get currentPosition(): LatLngTuple | undefined {\n        const path = this.currentPath;\n        const length = path.length;\n\n        if (!length) {\n            return undefined;\n        }\n\n        const lastIdx = length -1;\n\n        return path[lastIdx];\n    }\n\n    get canCenter() {\n        return !this.followCenter && !!this.currentPosition;\n    }\n\n    private onmove() {\n        this.followCenter = false;\n    }\n\n    private setSize() {\n        const el = this.$refs.leaflet as HTMLDivElement;\n        const parent = el.parentElement;\n\n        if (!parent) {\n            return;\n        }\n\n        const box = parent.getBoundingClientRect();\n        const height = box.height;\n        el.style.height = `${height}px`;\n    }\n\n    private recenter() {\n        this.followCenter = true;\n\n        if (this.currentPosition) {\n            this.center = this.currentPosition;\n        }\n    }\n\n    private log(a: string) {\n        const c = console;\n        c.log(a);\n    }\n\n    // updateSlots() {\n    //     const slots = this.$slots.default;\n    //     if (!slots) {\n    //         return;\n    //     }\n    //     const elements = slots();\n\n    //     console.log('elements', elements.length);\n    //     // elements.forEach((slot: any) => {\n    //     //     console.log('slot', slot);\n    //     //     slot.props.map = this.map;\n    //     // });\n    // }\n\n    mounted() {\n        // const el = this.$refs.leaflet as HTMLDivElement;\n\n        this.setSize();\n\n        // const map = L.map(el).setView([42.505, 1], this.zoom);\n        // const map = L.map(el).setView(this.center, this.zoom);\n        // console.log('should start');\n\n        // this.map = map;\n\n        // L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        //     attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n        //     maxZoom: 18,\n        //     id: 'mapbox/streets-v11',\n        //     tileSize: 512,\n        //     zoomOffset: -1,\n        // }).addTo(map);\n\n        // console.log('mounted', this.$slots, map);\n        // this.updateSlots();\n\n        if (!this.wlistener) {\n            this.wlistener = () => this.setSize();\n            window.addEventListener('resize', this.wlistener);\n        }\n    }\n\n    destroyed() {\n        if (this.wlistener) {\n            window.removeEventListener('resize', this.wlistener);\n        }\n    }\n}\n</script>\n\n<style scoped>\n.leaflet-map-container {\n    height: 100%;\n    width: 100%;\n}\n.leaflet-map {\n    width: 100%;\n}\n.actions {\n    position: fixed;\n    z-index: 800;\n    bottom: 2em;\n    right: 1em;\n    box-shadow: -2px 5px 10px black;\n}\n.actions button {\n    padding: 1em;\n}\n</style>\n","import {\n    LayerId,\n    LayerProps,\n} from '@/Types';\n\nexport const layers: Map<LayerId, LayerProps> = new Map();\nlayers.set('openStreetMap', {\n    url: 'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n    maxZoom: 19,\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n});\n\nexport const icons: Map<string, string> = new Map();\nicons.set('trekker', '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');\nicons.set('trekkerWithoutBorder', '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');\n","\nimport { Options, Vue } from 'vue-class-component';\nimport store from '@/Store';\nimport { icons, layers } from '@/tools/mapInfo';\nimport * as VueLeaflet from '@vue-leaflet/vue-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { LatLngTuple } from 'leaflet';\nimport {\n    LayerId, LayerProps,\n} from '@/Types';\n\nconst textPosition = 'Votre position actuelle';\nconst textCenterTitle = 'Recentrer et suivre votre position';\nconst textCenter = 'Recentrer';\n\nconst {\n    LMap,\n    LIcon,\n    LTileLayer,\n    LMarker,\n    LControlLayers,\n    LTooltip,\n    LPopup,\n    LPolyline,\n    LPolygon,\n    LRectangle,\n} = VueLeaflet;\n\n@Options({\n    // props: {\n    //     center: Array,\n    //     zoom: Number,\n    // },\n    // provide() {\n    //     return {\n    //         map: computed(() => this.map),\n    //     };\n    // },\n    components: {\n        LMap,\n        LIcon,\n        LTileLayer,\n        LMarker,\n        LControlLayers,\n        LTooltip,\n        LPopup,\n        LPolyline,\n        LPolygon,\n        LRectangle,\n    },\n    watch: {\n        currentPosition() {\n            if (this.followCenter) {\n                this.center = this.currentPosition;\n            }\n        },\n    },\n})\nexport default class Leaflet extends Vue {\n    private center: LatLngTuple = [46.5, 2.4];\n    private zoom = 6;\n    private followCenter = true;\n\n    private wlistener: undefined | (() => void);\n\n    get textPosition() {\n        return textPosition;\n    }\n\n    get textCenter() {\n        return textCenter;\n    }\n\n    get texCenterTitle() {\n        return textCenterTitle;\n    }\n\n    get currentPositionIcon() {\n        const icon = store.mapSettings.iconPosition;\n        const data = icons.get(icon);\n        if (!data) {\n            return undefined;\n        }\n        return `data:image/png;base64,${data}`;\n    }\n\n    get layerName(): LayerId {\n        return store.mapSettings.layer;\n    }\n\n    get layer(): LayerProps {\n        const id = this.layerName;\n        let layer = layers.get(id);\n\n        if (!layer) {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            layer = layers.get('openStreetMap')!;\n        }\n\n        return layer;\n    }\n\n    get recordedPath() {\n        return store.currentPath.path;\n    }\n\n    get currentPath() {\n        const path = this.recordedPath;\n        return path.map((point) => {\n            return [point.lat, point.lng] as LatLngTuple;\n        });\n        // return [\n        //     [47.334852, -1.509485],\n        //     [47.342596, -1.328731],\n        //     [47.241487, -1.190568],\n        //     [47.234787, -1.358337],\n        //     this.center,\n        // ];\n    }\n\n    get currentPosition(): LatLngTuple | undefined {\n        const path = this.currentPath;\n        const length = path.length;\n\n        if (!length) {\n            return undefined;\n        }\n\n        const lastIdx = length -1;\n\n        return path[lastIdx];\n    }\n\n    get canCenter() {\n        return !this.followCenter && !!this.currentPosition;\n    }\n\n    private onmove() {\n        this.followCenter = false;\n    }\n\n    private setSize() {\n        const el = this.$refs.leaflet as HTMLDivElement;\n        const parent = el.parentElement;\n\n        if (!parent) {\n            return;\n        }\n\n        const box = parent.getBoundingClientRect();\n        const height = box.height;\n        el.style.height = `${height}px`;\n    }\n\n    private recenter() {\n        this.followCenter = true;\n\n        if (this.currentPosition) {\n            this.center = this.currentPosition;\n        }\n    }\n\n    private log(a: string) {\n        const c = console;\n        c.log(a);\n    }\n\n    // updateSlots() {\n    //     const slots = this.$slots.default;\n    //     if (!slots) {\n    //         return;\n    //     }\n    //     const elements = slots();\n\n    //     console.log('elements', elements.length);\n    //     // elements.forEach((slot: any) => {\n    //     //     console.log('slot', slot);\n    //     //     slot.props.map = this.map;\n    //     // });\n    // }\n\n    mounted() {\n        // const el = this.$refs.leaflet as HTMLDivElement;\n\n        this.setSize();\n\n        // const map = L.map(el).setView([42.505, 1], this.zoom);\n        // const map = L.map(el).setView(this.center, this.zoom);\n        // console.log('should start');\n\n        // this.map = map;\n\n        // L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        //     attribution: 'Map data &copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors, Imagery © <a href=\"https://www.mapbox.com/\">Mapbox</a>',\n        //     maxZoom: 18,\n        //     id: 'mapbox/streets-v11',\n        //     tileSize: 512,\n        //     zoomOffset: -1,\n        // }).addTo(map);\n\n        // console.log('mounted', this.$slots, map);\n        // this.updateSlots();\n\n        if (!this.wlistener) {\n            this.wlistener = () => this.setSize();\n            window.addEventListener('resize', this.wlistener);\n        }\n    }\n\n    destroyed() {\n        if (this.wlistener) {\n            window.removeEventListener('resize', this.wlistener);\n        }\n    }\n}\n","import { render } from \"./Leaflet.vue?vue&type=template&id=3e0105d2&scoped=true\"\nimport script from \"./Leaflet.vue?vue&type=script&lang=ts\"\nexport * from \"./Leaflet.vue?vue&type=script&lang=ts\"\n\nimport \"./Leaflet.vue?vue&type=style&index=0&id=3e0105d2&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-3e0105d2\"\n\nexport default script","\nimport { Options, Vue } from 'vue-class-component';\nimport Leaflet from '@/components/Leaflet.vue';\n\n@Options({\n    components: {\n        Leaflet,\n    },\n})\nexport default class Home extends Vue {\n}\n","import { render } from \"./Home.vue?vue&type=template&id=8c6f8558\"\nimport script from \"./Home.vue?vue&type=script&lang=ts\"\nexport * from \"./Home.vue?vue&type=script&lang=ts\"\nscript.render = render\n\nexport default script","import { createRouter, createWebHistory, RouteRecordRaw } from 'vue-router';\nimport Home from '../views/Home.vue';\n\nconst routes: Array<RouteRecordRaw> = [{\n    path: '/',\n    name: 'Home',\n    component: Home,\n}, {\n    path: '/about',\n    name: 'About',\n    // route level code-splitting\n    // this generates a separate chunk (about.[hash].js) for this route\n    // which is lazy-loaded when the route is visited.\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/About.vue'),\n}, {\n    path: '/:catchAll(.*)',\n    redirect: '/',\n}];\n\nconst router = createRouter({\n    history: createWebHistory(process.env.BASE_URL),\n    routes,\n});\n\nexport default router;\n","import { createApp } from 'vue';\nimport App from './App.vue';\nimport router from './router';\n\ncreateApp(App).use(router).mount('#app');\n"],"sourceRoot":""}