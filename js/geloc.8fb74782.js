(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["geloc"],{"01ed":function(e,t,a){"use strict";a("5414")},1554:function(e,t,a){},"1a5b":function(e,t,a){"use strict";a("87de")},"42aa":function(e,t,a){"use strict";a("920d")},5232:function(e,t,a){"use strict";a("ca44")},5414:function(e,t,a){},5521:function(e,t,a){},6386:function(e,t,a){"use strict";a("956b")},"66b7":function(e,t,a){"use strict";var s=a("7a23");const i=Object(s["H"])("data-v-7624f778"),c=i((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])("button",{class:"button-back",onClick:t[1]||(t[1]=(...t)=>e.onclick&&e.onclick(...t))},Object(s["D"])(e.textBack),1)));var n=a("9ab4"),l=a("ce1f");const o="← Retour";let u=class extends l["b"]{constructor(){super(...arguments),this.textBack=o}onclick(){this.$router.go(-1)}};u=Object(n["a"])([Object(l["a"])({})],u);var d=u;a("42aa");d.render=c,d.__scopeId="data-v-7624f778";t["a"]=d},"7da8":function(e,t,a){"use strict";a.r(t);var s=a("7a23");const i={class:"settings"},c=Object(s["h"])("h1",null,"Geolocation settings",-1);function n(e,t,a,n,l,o){const u=Object(s["A"])("Back"),d=Object(s["A"])("Form");return Object(s["s"])(),Object(s["d"])("div",i,[Object(s["h"])(u),c,Object(s["h"])(d,{values:e.fields,onInput:e.onChange},null,8,["values","onInput"])])}var l=a("9ab4"),o=a("ce1f"),u=a("084e"),d=a("66b7");const r=Object(s["H"])("data-v-6a600a07");Object(s["w"])("data-v-6a600a07");const b={class:"form"};Object(s["t"])();const v=r((e,t,a,i,c,n)=>{const l=Object(s["A"])("Field");return Object(s["s"])(),Object(s["d"])("div",b,[(Object(s["s"])(!0),Object(s["d"])(s["a"],null,Object(s["z"])(e.fields,t=>(Object(s["s"])(),Object(s["d"])(l,{value:t,onInput:a=>e.$emit("input",t.id,a),onAction:a=>e.$emit("action",t.id,a),key:"item-"+t.id},null,8,["value","onInput","onAction"]))),128))])}),p=Object(s["H"])("data-v-337d17c8");Object(s["w"])("data-v-337d17c8");const m={class:"field__value"},j={key:0},O={key:0,class:"comment"};Object(s["t"])();const h=p((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])(s["a"],null,[Object(s["h"])("label",{class:"field__label",for:e.value.id,title:e.value.title},Object(s["D"])(e.labelDisplay),9,["for","title"]),Object(s["h"])("span",m,[Object(s["h"])("span",null,[(Object(s["s"])(),Object(s["d"])(Object(s["B"])(e.componentKind),{value:e.value,onInput:t[1]||(t[1]=t=>e.$emit("input",t)),onAction:t[2]||(t[2]=t=>e.$emit("action",t))},null,8,["value"])),e.unit?(Object(s["s"])(),Object(s["d"])("span",j,Object(s["D"])(e.unit),1)):Object(s["e"])("",!0)]),e.value.comment?(Object(s["s"])(),Object(s["d"])("div",O,Object(s["D"])(e.value.comment),1)):Object(s["e"])("",!0)])],64)));function g(e,t,a,i,c,n){return Object(s["s"])(),Object(s["d"])("input",{id:e.value.id,type:e.type,value:e.value.value,placeholder:e.value.placeholder,title:e.value.title,disabled:e.value.disabled,min:e.value.min,max:e.value.max,checked:!!e.value.value,onInput:t[1]||(t[1]=(...t)=>e.change&&e.change(...t))},null,40,["id","type","value","placeholder","title","disabled","min","max","checked"])}let f=class extends o["b"]{get type(){const e=this.value.type,t={text:"text",number:"number",boolean:"checkbox",range:"range"},a=t[e];return a}change(e){const t=e.currentTarget,a="boolean"===this.value.type?t.checked:t.value;this.$emit("input",a)}};f=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],f);var y=f;y.render=g;var k=y;function x(e,t,a,i,c,n){return Object(s["s"])(),Object(s["d"])("textarea",{id:e.value.id,value:e.value.value,placeholder:e.value.placeholder,title:e.value.title,disabled:e.value.disabled,onInput:t[1]||(t[1]=(...t)=>e.change&&e.change(...t))},null,40,["id","value","placeholder","title","disabled"])}let w=class extends o["b"]{change(e){const t=e.currentTarget,a=t.value;this.$emit("input",a)}};w=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],w);var F=w;F.render=x;var _=F;const I=Object(s["H"])("data-v-95a7724c"),T=I((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])("span",{id:e.value.id,title:e.value.title,class:{disabled:e.value.disabled}},Object(s["D"])(e.value.value),11,["id","title"])));let $=class extends o["b"]{};$=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],$);var A=$;a("f852");A.render=T,A.__scopeId="data-v-95a7724c";var C=A;const D=Object(s["H"])("data-v-0e1a7af6"),P=D((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])("select",{id:e.value.id,value:e.value.value,title:e.value.title,disabled:e.value.disabled,onInput:t[1]||(t[1]=(...t)=>e.change&&e.change(...t))},[(Object(s["s"])(!0),Object(s["d"])(s["a"],null,Object(s["z"])(e.options,e=>(Object(s["s"])(),Object(s["d"])("option",{key:e.id,value:e.value,disabled:e.disabled,class:e.class},Object(s["D"])(e.text),11,["value","disabled"]))),128))],40,["id","value","title","disabled"])));let M=class extends o["b"]{get options(){const e=this.value.options||[],t=this.value.id;return e.forEach((e,a)=>{e.id||(e.id=e.value||`option-${t}-${a}`),void 0===e.text&&(e.text=e.value)}),e}change(e){const t=e.currentTarget,a=t.value;this.$emit("input",a)}};M=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],M);var S=M;a("01ed");S.render=P,S.__scopeId="data-v-0e1a7af6";var H=S;const B=Object(s["H"])("data-v-2c191b28");Object(s["w"])("data-v-2c191b28");const V={key:1,class:"list__items"},L={class:"item-value"},K={key:2,class:"comment"};Object(s["t"])();const z=B((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])("div",{id:e.value.id,title:e.value.title,class:{disabled:e.value.disabled}},[e.value.disabled?Object(s["e"])("",!0):(Object(s["s"])(),Object(s["d"])("input",{key:0,type:"text",value:e.newValue,placeholder:"add an item",onInput:t[1]||(t[1]=t=>e.newValue=t.currentTarget.value),onKeydown:t[2]||(t[2]=Object(s["G"])((...t)=>e.keyboard&&e.keyboard(...t),["stop"]))},null,40,["value"])),e.list.length>0?(Object(s["s"])(),Object(s["d"])("ol",V,[(Object(s["s"])(!0),Object(s["d"])(s["a"],null,Object(s["z"])(e.list,(t,a)=>(Object(s["s"])(),Object(s["d"])("li",{key:`list-${t}-${a}`,class:"list__item"},[Object(s["h"])("span",{class:"icon action-remove",title:`remove the item '${t}'`,onClick:t=>e.remove(a)}," × ",8,["title","onClick"]),Object(s["h"])("span",L,Object(s["D"])(t),1)]))),128))])):(Object(s["s"])(),Object(s["d"])("div",K," list is empty "))],10,["id","title"])));let E=class extends o["b"]{constructor(){super(...arguments),this.newValue=""}get list(){let e=this.value.value;return Array.isArray(e)||(e=[e]),e}keyboard(e){const t=e.key,a=this.newValue,s=this.list;switch(t){case"Enter":this.newValue="",this.$emit("input",s.concat(a));break;case"Escape":this.newValue="";break}}remove(e){const t=this.list,a=[...t.slice(0,e),...t.slice(e+1)];this.$emit("input",a)}};E=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],E);var G=E;a("6386");G.render=z,G.__scopeId="data-v-2c191b28";var q=G;const J=Object(s["H"])("data-v-68cadc0d");Object(s["w"])("data-v-68cadc0d");const N={v_if:"!!message",class:"comment"};Object(s["t"])();const R=J((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])(s["a"],null,[Object(s["h"])("button",{id:e.value.id,title:e.value.title,disabled:e.value.disabled,class:{"keep-press":e.keepPress,"in-progress":e.isClicking},ref:"button",onClick:t[1]||(t[1]=(...t)=>e.click&&e.click(...t)),onMousedown:t[2]||(t[2]=(...t)=>e.mousedown&&e.mousedown(...t)),onMouseout:t[3]||(t[3]=(...t)=>e.mouseout&&e.mouseout(...t))},Object(s["D"])(e.value.value),43,["id","title","disabled"]),Object(s["h"])("span",N,Object(s["D"])(e.message),1)],64)));let U=class extends o["b"]{constructor(){super(...arguments),this.message="",this.timerMessage=0,this.allowAction=0,this.isClicking=!1}get options(){return this.value.options||{}}get keepPress(){const e=this.options,t=e.keepPress||0;return!!t}click(){const e=this.isClicking&&Date.now()>this.allowAction;e&&this.$emit("action",this.value.options),this.clearMessage()}mousedown(){const e=this.options,t=e.keepPress||0;if(t){const e=t/1e3;this.displayMessage(`Keep button pressed for ${e} seconds`,t);const a=this.$refs.button;a.style.transitionDuration=t+"ms"}this.allowAction=Date.now()+t,this.isClicking=!0}mouseout(){this.clearMessage()}displayMessage(e,t){clearTimeout(this.timerMessage),this.message=e,this.timerMessage=setTimeout(()=>this.message="",t)}clearMessage(){clearTimeout(this.timerMessage),this.message="";const e=this.$refs.button;e.style.transitionDuration="",this.isClicking=!1}};U=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],U);var Q=U;a("5232");Q.render=R,Q.__scopeId="data-v-68cadc0d";var W=Q;const X=Object(s["H"])("data-v-5794a9d8"),Y=X((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])("img",{id:e.value.id,title:e.value.title,src:e.value.value,class:{disabled:e.value.disabled}},null,10,["id","title","src"])));let Z=class extends o["b"]{};Z=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],Z);var ee=Z;a("a088");ee.render=Y,ee.__scopeId="data-v-5794a9d8";var te=ee;let ae=class extends o["b"]{get componentKind(){const e={text:"FieldInput",number:"FieldInput",boolean:"FieldInput",range:"FieldInput",longText:"FieldTextarea",empty:"FieldText",emptyLine:"FieldText",rawText:"FieldText",select:"FieldSelect",list:"FieldList",button:"FieldButton",image:"FieldImage"},t=e[this.value.type];return void 0===t?"input":t}get labelDisplay(){const e=this.value.label;return e?e+":":""}get unit(){const e=this.value.unit;return"string"!==typeof e?"":e}};ae=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"],components:{FieldInput:k,FieldTextarea:_,FieldText:C,FieldSelect:H,FieldList:q,FieldButton:W,FieldImage:te}})],ae);var se=ae;a("c382");se.render=h,se.__scopeId="data-v-337d17c8";var ie=se;let ce=class extends o["b"]{get fields(){const e=this.values;return Array.isArray(e)?e.map((e,t)=>({id:e.id||"field-"+t,type:e.type||"text",value:e.value,label:e.label||"",unit:e.unit||"",placeholder:e.placeholder,title:e.title,options:e.options,min:e.min,max:e.max,disabled:!!e.disabled,comment:e.comment})):[]}};ce=Object(l["a"])([Object(o["a"])({props:{values:Array},components:{Field:ie},emits:["input","action"]})],ce);var ne=ce;a("1a5b");ne.render=v,ne.__scopeId="data-v-6a600a07";var le=ne,oe=a("a77d"),ue=a("6879");const de="Cette valeur doit être un nombre entier positif.";let re=class extends o["b"]{constructor(){super(...arguments),this.refreshTimeComment=""}get fields(){const e=u["a"].geolocSettings,t=u["a"].mapSettings;return[{type:"emptyLine"},{id:"refreshTime",label:"Délai de rafraichissement de la position",title:"Temps entre 2 enregistrements de positions",type:"number",unit:"secondes",value:Math.round(e.refreshTime/1e3),min:1,comment:this.refreshTimeComment},{id:"highPrecision",label:"Utiliser une plus grande précision GPS",title:"Cette fonctionnalité peut consommer plus de batterie",type:"boolean",value:e.highPrecision},{type:"emptyLine"},{id:"layer",label:"Fond de carte",type:"select",value:t.layer,options:Array.from(ue["c"],([e])=>({text:e,value:e}))},{id:"iconPosition",label:"Marqueur de votre position",type:"select",value:t.iconPosition,options:Array.from(ue["b"],([e,t])=>({text:t.label,value:e}))},{label:"Aperçu du marqueur",type:"image",value:Object(ue["a"])(t.iconPosition)}]}onChange(e,t){switch(e){case"refreshTime":{const e=1e3*+t;Number.isFinite(e)&&e>0?(u["a"].geolocSettings.refreshTime=e,this.refreshTimeComment=""):this.refreshTimeComment=de;break}case"highPrecision":u["a"].geolocSettings.highPrecision=!!t;break;case"layer":ue["c"].has(t)&&(u["a"].mapSettings.layer=t);break;case"iconPosition":ue["b"].has(t)&&(u["a"].mapSettings.iconPosition=t);break;default:Object(oe["a"])(`field id "${e}" does not exists`,{type:"error"})}}};re=Object(l["a"])([Object(o["a"])({components:{Back:d["a"],Form:le}})],re);var be=re;be.render=n;t["default"]=be},"87de":function(e,t,a){},"920d":function(e,t,a){},"956b":function(e,t,a){},a088:function(e,t,a){"use strict";a("a1fe")},a1fe:function(e,t,a){},c382:function(e,t,a){"use strict";a("1554")},ca44:function(e,t,a){},f852:function(e,t,a){"use strict";a("5521")}}]);
//# sourceMappingURL=geloc.8fb74782.js.map