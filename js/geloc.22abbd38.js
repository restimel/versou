(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["geloc"],{"01ed":function(e,t,a){"use strict";a("5414")},1554:function(e,t,a){},"1a5b":function(e,t,a){"use strict";a("87de")},5232:function(e,t,a){"use strict";a("ca44")},5414:function(e,t,a){},5521:function(e,t,a){},6386:function(e,t,a){"use strict";a("956b")},"7da8":function(e,t,a){"use strict";a.r(t);var s=a("7a23");const i={class:"settings"},c=Object(s["h"])("h1",null,"Geolocation settings",-1);function n(e,t,a,n,l,o){const u=Object(s["A"])("Back"),d=Object(s["A"])("Form");return Object(s["s"])(),Object(s["d"])("div",i,[Object(s["h"])(u),c,Object(s["h"])(d,{values:e.fields,onInput:e.onChange},null,8,["values","onInput"])])}var l=a("9ab4"),o=a("ce1f"),u=a("084e");const d=Object(s["H"])("data-v-a87834ce"),r=d((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])("button",{class:"button-back",onClick:t[1]||(t[1]=(...t)=>e.onclick&&e.onclick(...t))},Object(s["D"])(e.textBack),1))),b="← Retour";let v=class extends o["b"]{constructor(){super(...arguments),this.textBack=b}onclick(){this.$router.go(-1)}};v=Object(l["a"])([Object(o["a"])({})],v);var p=v;a("f350");p.render=r,p.__scopeId="data-v-a87834ce";var m=p;const j=Object(s["H"])("data-v-6a600a07");Object(s["w"])("data-v-6a600a07");const O={class:"form"};Object(s["t"])();const h=j((e,t,a,i,c,n)=>{const l=Object(s["A"])("Field");return Object(s["s"])(),Object(s["d"])("div",O,[(Object(s["s"])(!0),Object(s["d"])(s["a"],null,Object(s["z"])(e.fields,t=>(Object(s["s"])(),Object(s["d"])(l,{value:t,onInput:a=>e.$emit("input",t.id,a),onAction:a=>e.$emit("action",t.id,a),key:"item-"+t.id},null,8,["value","onInput","onAction"]))),128))])}),g=Object(s["H"])("data-v-337d17c8");Object(s["w"])("data-v-337d17c8");const f={class:"field__value"},y={key:0},k={key:0,class:"comment"};Object(s["t"])();const x=g((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])(s["a"],null,[Object(s["h"])("label",{class:"field__label",for:e.value.id,title:e.value.title},Object(s["D"])(e.labelDisplay),9,["for","title"]),Object(s["h"])("span",f,[Object(s["h"])("span",null,[(Object(s["s"])(),Object(s["d"])(Object(s["B"])(e.componentKind),{value:e.value,onInput:t[1]||(t[1]=t=>e.$emit("input",t)),onAction:t[2]||(t[2]=t=>e.$emit("action",t))},null,8,["value"])),e.unit?(Object(s["s"])(),Object(s["d"])("span",y,Object(s["D"])(e.unit),1)):Object(s["e"])("",!0)]),e.value.comment?(Object(s["s"])(),Object(s["d"])("div",k,Object(s["D"])(e.value.comment),1)):Object(s["e"])("",!0)])],64)));function w(e,t,a,i,c,n){return Object(s["s"])(),Object(s["d"])("input",{id:e.value.id,type:e.type,value:e.value.value,placeholder:e.value.placeholder,title:e.value.title,disabled:e.value.disabled,min:e.value.min,max:e.value.max,checked:!!e.value.value,onInput:t[1]||(t[1]=(...t)=>e.change&&e.change(...t))},null,40,["id","type","value","placeholder","title","disabled","min","max","checked"])}let F=class extends o["b"]{get type(){const e=this.value.type,t={text:"text",number:"number",boolean:"checkbox",range:"range"},a=t[e];return a}change(e){const t=e.currentTarget,a="boolean"===this.value.type?t.checked:t.value;this.$emit("input",a)}};F=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],F);var _=F;_.render=w;var I=_;function T(e,t,a,i,c,n){return Object(s["s"])(),Object(s["d"])("textarea",{id:e.value.id,value:e.value.value,placeholder:e.value.placeholder,title:e.value.title,disabled:e.value.disabled,onInput:t[1]||(t[1]=(...t)=>e.change&&e.change(...t))},null,40,["id","value","placeholder","title","disabled"])}let $=class extends o["b"]{change(e){const t=e.currentTarget,a=t.value;this.$emit("input",a)}};$=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],$);var A=$;A.render=T;var C=A;const D=Object(s["H"])("data-v-95a7724c"),P=D((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])("span",{id:e.value.id,title:e.value.title,class:{disabled:e.value.disabled}},Object(s["D"])(e.value.value),11,["id","title"])));let M=class extends o["b"]{};M=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],M);var S=M;a("f852");S.render=P,S.__scopeId="data-v-95a7724c";var H=S;const B=Object(s["H"])("data-v-0e1a7af6"),V=B((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])("select",{id:e.value.id,value:e.value.value,title:e.value.title,disabled:e.value.disabled,onInput:t[1]||(t[1]=(...t)=>e.change&&e.change(...t))},[(Object(s["s"])(!0),Object(s["d"])(s["a"],null,Object(s["z"])(e.options,e=>(Object(s["s"])(),Object(s["d"])("option",{key:e.id,value:e.value,disabled:e.disabled,class:e.class},Object(s["D"])(e.text),11,["value","disabled"]))),128))],40,["id","value","title","disabled"])));let L=class extends o["b"]{get options(){const e=this.value.options||[],t=this.value.id;return e.forEach((e,a)=>{e.id||(e.id=e.value||`option-${t}-${a}`),void 0===e.text&&(e.text=e.value)}),e}change(e){const t=e.currentTarget,a=t.value;this.$emit("input",a)}};L=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],L);var K=L;a("01ed");K.render=V,K.__scopeId="data-v-0e1a7af6";var z=K;const E=Object(s["H"])("data-v-2c191b28");Object(s["w"])("data-v-2c191b28");const G={key:1,class:"list__items"},q={class:"item-value"},J={key:2,class:"comment"};Object(s["t"])();const N=E((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])("div",{id:e.value.id,title:e.value.title,class:{disabled:e.value.disabled}},[e.value.disabled?Object(s["e"])("",!0):(Object(s["s"])(),Object(s["d"])("input",{key:0,type:"text",value:e.newValue,placeholder:"add an item",onInput:t[1]||(t[1]=t=>e.newValue=t.currentTarget.value),onKeydown:t[2]||(t[2]=Object(s["G"])((...t)=>e.keyboard&&e.keyboard(...t),["stop"]))},null,40,["value"])),e.list.length>0?(Object(s["s"])(),Object(s["d"])("ol",G,[(Object(s["s"])(!0),Object(s["d"])(s["a"],null,Object(s["z"])(e.list,(t,a)=>(Object(s["s"])(),Object(s["d"])("li",{key:`list-${t}-${a}`,class:"list__item"},[Object(s["h"])("span",{class:"icon action-remove",title:`remove the item '${t}'`,onClick:t=>e.remove(a)}," × ",8,["title","onClick"]),Object(s["h"])("span",q,Object(s["D"])(t),1)]))),128))])):(Object(s["s"])(),Object(s["d"])("div",J," list is empty "))],10,["id","title"])));let R=class extends o["b"]{constructor(){super(...arguments),this.newValue=""}get list(){let e=this.value.value;return Array.isArray(e)||(e=[e]),e}keyboard(e){const t=e.key,a=this.newValue,s=this.list;switch(t){case"Enter":this.newValue="",this.$emit("input",s.concat(a));break;case"Escape":this.newValue="";break}}remove(e){const t=this.list,a=[...t.slice(0,e),...t.slice(e+1)];this.$emit("input",a)}};R=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],R);var U=R;a("6386");U.render=N,U.__scopeId="data-v-2c191b28";var Q=U;const W=Object(s["H"])("data-v-68cadc0d");Object(s["w"])("data-v-68cadc0d");const X={v_if:"!!message",class:"comment"};Object(s["t"])();const Y=W((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])(s["a"],null,[Object(s["h"])("button",{id:e.value.id,title:e.value.title,disabled:e.value.disabled,class:{"keep-press":e.keepPress,"in-progress":e.isClicking},ref:"button",onClick:t[1]||(t[1]=(...t)=>e.click&&e.click(...t)),onMousedown:t[2]||(t[2]=(...t)=>e.mousedown&&e.mousedown(...t)),onMouseout:t[3]||(t[3]=(...t)=>e.mouseout&&e.mouseout(...t))},Object(s["D"])(e.value.value),43,["id","title","disabled"]),Object(s["h"])("span",X,Object(s["D"])(e.message),1)],64)));let Z=class extends o["b"]{constructor(){super(...arguments),this.message="",this.timerMessage=0,this.allowAction=0,this.isClicking=!1}get options(){return this.value.options||{}}get keepPress(){const e=this.options,t=e.keepPress||0;return!!t}click(){const e=this.isClicking&&Date.now()>this.allowAction;e&&this.$emit("action",this.value.options),this.clearMessage()}mousedown(){const e=this.options,t=e.keepPress||0;if(t){const e=t/1e3;this.displayMessage(`Keep button pressed for ${e} seconds`,t);const a=this.$refs.button;a.style.transitionDuration=t+"ms"}this.allowAction=Date.now()+t,this.isClicking=!0}mouseout(){this.clearMessage()}displayMessage(e,t){clearTimeout(this.timerMessage),this.message=e,this.timerMessage=setTimeout(()=>this.message="",t)}clearMessage(){clearTimeout(this.timerMessage),this.message="";const e=this.$refs.button;e.style.transitionDuration="",this.isClicking=!1}};Z=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],Z);var ee=Z;a("5232");ee.render=Y,ee.__scopeId="data-v-68cadc0d";var te=ee;const ae=Object(s["H"])("data-v-5794a9d8"),se=ae((e,t,a,i,c,n)=>(Object(s["s"])(),Object(s["d"])("img",{id:e.value.id,title:e.value.title,src:e.value.value,class:{disabled:e.value.disabled}},null,10,["id","title","src"])));let ie=class extends o["b"]{};ie=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"]})],ie);var ce=ie;a("a088");ce.render=se,ce.__scopeId="data-v-5794a9d8";var ne=ce;let le=class extends o["b"]{get componentKind(){const e={text:"FieldInput",number:"FieldInput",boolean:"FieldInput",range:"FieldInput",longText:"FieldTextarea",empty:"FieldText",emptyLine:"FieldText",rawText:"FieldText",select:"FieldSelect",list:"FieldList",button:"FieldButton",image:"FieldImage"},t=e[this.value.type];return void 0===t?"input":t}get labelDisplay(){const e=this.value.label;return e?e+":":""}get unit(){const e=this.value.unit;return"string"!==typeof e?"":e}};le=Object(l["a"])([Object(o["a"])({props:{value:Object},emits:["input","action"],components:{FieldInput:I,FieldTextarea:C,FieldText:H,FieldSelect:z,FieldList:Q,FieldButton:te,FieldImage:ne}})],le);var oe=le;a("c382");oe.render=x,oe.__scopeId="data-v-337d17c8";var ue=oe;let de=class extends o["b"]{get fields(){const e=this.values;return Array.isArray(e)?e.map((e,t)=>({id:e.id||"field-"+t,type:e.type||"text",value:e.value,label:e.label||"",unit:e.unit||"",placeholder:e.placeholder,title:e.title,options:e.options,min:e.min,max:e.max,disabled:!!e.disabled,comment:e.comment})):[]}};de=Object(l["a"])([Object(o["a"])({props:{values:Array},components:{Field:ue},emits:["input","action"]})],de);var re=de;a("1a5b");re.render=h,re.__scopeId="data-v-6a600a07";var be=re,ve=a("a77d"),pe=a("6879");const me="Cette valeur doit être un nombre entier positif.";let je=class extends o["b"]{constructor(){super(...arguments),this.refreshTimeComment=""}get fields(){const e=u["a"].geolocSettings,t=u["a"].mapSettings;return[{type:"emptyLine"},{id:"refreshTime",label:"Délai de rafraichissement de la position",title:"Temps entre 2 enregistrements de positions",type:"number",unit:"secondes",value:Math.round(e.refreshTime/1e3),min:1,comment:this.refreshTimeComment},{id:"highPrecision",label:"Utiliser une plus grande précision GPS",title:"Cette fonctionnalité peut consommer plus de batterie",type:"boolean",value:e.highPrecision},{type:"emptyLine"},{id:"layer",label:"Fond de carte",type:"select",value:t.layer,options:Array.from(pe["c"],([e])=>({text:e,value:e}))},{id:"iconPosition",label:"Marqueur de votre position",type:"select",value:t.iconPosition,options:Array.from(pe["b"],([e,t])=>({text:t.label,value:e}))},{label:"Aperçu du marqueur",type:"image",value:Object(pe["a"])(t.iconPosition)}]}onChange(e,t){switch(e){case"refreshTime":{const e=1e3*+t;Number.isFinite(e)&&e>0?(u["a"].geolocSettings.refreshTime=e,this.refreshTimeComment=""):this.refreshTimeComment=me;break}case"highPrecision":u["a"].geolocSettings.highPrecision=!!t;break;case"layer":pe["c"].has(t)&&(u["a"].mapSettings.layer=t);break;case"iconPosition":pe["b"].has(t)&&(u["a"].mapSettings.iconPosition=t);break;default:Object(ve["a"])(`field id "${e}" does not exists`,{type:"error"})}}};je=Object(l["a"])([Object(o["a"])({components:{Back:m,Form:be}})],je);var Oe=je;Oe.render=n;t["default"]=Oe},"87de":function(e,t,a){},"956b":function(e,t,a){},a088:function(e,t,a){"use strict";a("a1fe")},a1fe:function(e,t,a){},b21d:function(e,t,a){},c382:function(e,t,a){"use strict";a("1554")},ca44:function(e,t,a){},f350:function(e,t,a){"use strict";a("b21d")},f852:function(e,t,a){"use strict";a("5521")}}]);
//# sourceMappingURL=geloc.22abbd38.js.map